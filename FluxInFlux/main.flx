
import flux;

let source_code = "
5 \"hello\" 'a' 0xff 0b101
hello world
throw 5
[1, 2, \"hello\", 'world']
{a = 1, 2, [\"c\"] = 3}
";

void main() {
	new Flux::Parsing::Source source();
	new Flux::Parsing::Lexer lexer( source_code );

	source.lexer = lexer;

	while !lexer:isEOF() {
		let expr = Flux::Parsing::PrimaryExpression:parse( source );
		if expr
			print( expr:serialize() );
		else {
			print( "Nope" );
			break;
		}
	}
}
